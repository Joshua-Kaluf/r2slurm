% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/setters.R
\name{add_body}
\alias{add_body}
\title{Add commands to a Slurm job body}
\usage{
add_body(job, code, position = "end")
}
\arguments{
\item{job}{A \code{slurm_job} object.}

\item{code}{Character vector, single string, or function returning character
lines to add to the job body.}

\item{position}{Integer or one of \code{"start"}, \code{"end"}:
\itemize{
\item \code{"end"} (default) appends lines,
\item \code{"start"} prepends lines,
\item numeric inserts at the given index (1-based).
}}
}
\value{
The updated \code{slurm_job} object, allowing for chaining.
}
\description{
Append, prepend, or insert lines into the \code{body} of a \code{slurm_job} object.
You can pass a character vector of commands, a single string, or a function
that returns a character vector (for dynamically generated commands).
}
\examples{
# Create a simple job
job <- slurm_job("echo Start", job_name = "example")

# Append commands
job <- add_body(job, c("module load python", "python script.py"))

# Chain Commands
job <- slurm_job("echo Start", job_name = "example") \%>\%
       add_body(c("module load python", "python script.py"))

# Prepend a command
job <- add_body(job, "echo Preparing job", position = "start")

# Insert at specific line (before the second command)
job <- add_body(job, "echo Inserted line", position = 2)

# Use a function to dynamically generate commands
job <- add_body(job, function() {
  paste("echo Dynamic command", 1:3)
})

# Render script to see the effect
render_script(job)

}
